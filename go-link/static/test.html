<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/main.css"/>
</head>

<body>
<main>
    <div class="container-fluid">
        <div class="row">
            <div class="col-2" style="background-color:#aaa;" id="nav">
                <ul class="list-unstyled ps-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">AUTH: ID PW</a>
                        <ul class="dropdown-menu">
                            <li>
                                <from class="row-cols-auto" id="authLoginUserForm">
                                    <input type="text" class="form-control" id="authLoginUserIdInput"
                                           placeholder="id"/>
                                    <input type="password" class="form-control" id="authLoginUserPwInput"
                                           placeholder="password"/>
                                    <input type="submit" class="btn btn-primary" value="LOGIN"/>
                                    <button class="btn btn-primary" id="idPwLogout">LOGOUT</button>
                                </from>
                            </li>
                        </ul>
                    </li>


                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">AUTH: 익명</a>
                        <ul class="dropdown-menu">
                            <li>
                                <form class="row-cols-auto" id="authLoginAnonForm">
                                    <input type="text" class="form-control" id="authLoginAnonUserNameInput"
                                           placeholder="이름 또는 자동 생성"/>
                                    <input type="submit" class="btn btn-primary" value="LOGIN"/>
                                    <button class="btn btn-primary" id="authLogoutAnonButton">LOGOUT</button>
                                </form>
                            </li>
                        </ul>
                    </li>


                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">AUTH: JWT</a>
                        <ul class="dropdown-menu">
                            <li>
                                <form class="row-cols-auto" id="authLoginJwtForm">
                                    <input type="text" class="form-control" id="authLoginJwtTokenInput"
                                           placeholder="jwt token 자동생성 또는 입력"/>
                                    <input type="submit" class="btn btn-primary" value="KEY 로그인"/>
                                    <button class="btn btn-primary" id="authLogoutKeepTrueButton">LOGOUT, KEEP
                                    </button>
                                    <button class="btn btn-primary" id="authLogoutKeepFalseButton">LOGOUT, NO
                                        KEEP
                                    </button>
                                    <button class="btn btn-primary" id="authGetJwtKeyButton">JWT TOKEN 요청
                                    </button>
                                </form>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">AUTH: 로타리</a>
                        <ul class="dropdown-menu">
                            <li>
                                <form class="row-cols-auto" id="authLoginRotaryForm">
                                    <input type="text" class="form-control" id="authLoginRotaryUserIdInput"
                                           placeholder="멤버 유니크 키"/>
                                    <input type="submit" class="btn btn-primary" value="LOGIN"/>
                                    <button class="btn btn-primary" id="authLogoutRotaryButton">LOGOUT</button>
                                </form>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">META: 채팅방</a>
                        <ul class="dropdown-menu">
                            <li>
                                <button class="btn btn-primary" id="metaTopicRequest">모든 채팅방 정보 요청</button>
                                <button class="btn btn-primary" id="metaTopicRequestByMe">내 채팅방 정보 요청</button>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">META: 사용자</a>
                        <ul class="dropdown-menu">
                            <li>
                                <button class="btn btn-primary" id="metaUserRequest">모든 유저 정보 요청</button>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">META: 메세지</a>
                        <ul class="dropdown-menu">
                            <li>
                                <form class="row-cols-auto" id="metaMessageRequest">
                                    <input type="text" class="form-control" id="metaMessageRequestTopicId"
                                           placeholder="방 유니크 키"/>
                                    <input type="submit" class="btn btn-primary" value="채팅방 내 메시지 전체 요청"/>
                                </form>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">CTRL: 방 만들기</a>
                        <ul class="dropdown-menu">
                            <li>
                                <form class="row-cols-auto" id="topicCreate">
                                    <input type="text" class="form-control" id="topicCreateName"
                                           placeholder="방이름 또는 빈값"/>
                                    <input type="submit" class="btn btn-primary" value="방 생성"/>
                                </form>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">CTRL: 방 들어가기</a>
                        <ul class="dropdown-menu">
                            <li>
                                <form class="row-cols-auto" id="topicJoin">
                                    <input type="text" id="topicJoinName" class="form-control"
                                           placeholder="방 유니크 키"/>
                                    <input type="submit" class="btn btn-primary" value="방 입장"/>
                                </form>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">CTRL: 방 나가기</a>
                        <ul class="dropdown-menu">
                            <li>
                                <form class="row-cols-auto" id="topicExit">
                                    <input type="text" id="topicExitRoomId" class="form-control"
                                           placeholder="방 유니크 키"/>
                                    <input type="submit" class="btn btn-primary" value="방 나가기"/>
                                </form>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">CTRL: 초대하기</a>
                        <ul class="dropdown-menu">
                            <li>
                                <form class="row-cols-auto" id="topicInviteUserFrom">
                                    <input type="text" id="topicInviteUserId" class="form-control"
                                           placeholder="사용자 유니크 키"/>
                                    <input type="text" id="topicInviteTopicId" class="form-control"
                                           placeholder="방 유니크 키"/>
                                    <input type="submit" class="btn btn-primary" value="초대하기"/>
                                </form>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">FILE: 업로드</a>
                        <ul class="dropdown-menu">
                            <li>
                                <form method="POST" enctype="multipart/form-data" id="uploadForm">
                                    <input type="file" name="file"/>
                                    <input type="text" placeholder="topic_id" name="topic_id"/>
                                    <button id="btnUpload">확인</button>
                                </form>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                           aria-expanded="false" style="color: black">FILE: 다운로드</a>
                        <ul class="dropdown-menu">
                            <li>
                                <form class="row-cols-auto" id="fileDownloadForm">
                                    <input type="text" id="fileDownloadFileId" class="form-control"
                                           placeholder="파일 유니크 키"/>
                                    <input type="submit" class="btn btn-primary" value="다운로드"/>
                                </form>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div class="col-2" style="background-color:#bbb;height: 540px;width: 300px;overflow-y: scroll">
                <div class="d-flex flex-column align-items-stretch flex-shrink-0 bg-gradient" id="friendList">
                    <h1><span class="fs-5 fw-semibold">friend List</span></h1>
                    <div class="list-group list-group-flush border-bottom scrollarea" id="friendsDom">
                    </div>
                </div>
            </div>

            <div class="col-2" style="background-color:#bbb;height: 540px;overflow-y: scroll">
                <div class="d-flex flex-column align-items-stretch flex-shrink-0 bg-gradient" id="chatList">
                    <h1><span class="fs-5 fw-semibold">chat list</span></h1>
                    <div class="list-group list-group-flush border-bottom scrollarea" id="topicsDom">
                    </div>
                </div>
            </div>

            <div class="col-6" style="background-color:#bbb;height: 540px">
                <div id="messagesContainer">
                    <ul id="messagesUl" class="chat-box"></ul>
                </div>

                <div id="message-input-container">
                    <form id="msgSend">
                        <input type="text" id="msg" size="128" autofocus autocomplete="off"/>
                        <input type="submit" value="Send"/>
                    </form>
                </div>
            </div>

            <div class="col-12" id="statusColumn" style="background-color:#ccb;height: 200px;overflow: scroll">status
                <ul id="statusList">
                </ul>
            </div>

            <div class="col-12" id="loggingColumn" style="background-color:#ccc;height: 200px;overflow: scroll">logging
                <ul id="loggingList">
                </ul>
            </div>

            <div class="col-12" id="changeLog" style="background-color:#ccc;">
                <h2 id="2-todo">2. todo</h2>
                <ul>
                    <li>파일 업로드 응답이 json인데 response content-type이 안바뀜</li>
                </ul>
                <h2 id="2-1-done-todo">2.1. done todo</h2>
                <ul>
                    <li>방 참여시 중복 참여 버그 체크</li>
                    <li>방 참여시 자유 참여 여부 체크</li>
                    <li>친구 초대하기</li>
                    <li>친구 찾기 (메타 정보 요청 추가)</li>
                    <li>meta 정보 요청 구현 필요</li>
                    <li>CHAT HUB 버그 점검</li>
                    <li>SESSION 관리 버그 점검</li>
                    <li>전체적인 흐름 로그 정리 필요</li>
                </ul>
                <h2 id="3-change-log">3. change log</h2>
                <ul>
                    <li>2021-06-10 파일 업로드, 다운로드 추가</li>
                    <li>2021-06-08 Bootstrap5 변경</li>
                    <li>2021-06-07 메타 정보 (채팅방, 채팅 메시지, 사용자) 요청 API 구현</li>
                    <li>2021-06-07 중복 로그인 방지</li>
                    <li>2021-06-03 로타리 연동 추가, docs 추가, 기본 채팅 및 조작 가능</li>
                    <li>2021-05-17 전체적인 점검</li>
                    <li>2021-05-14 anonymous 로그아웃 구현</li>
                    <li>2021-05-04 anonymous 익명 로그인, 방 생성, 방 참가</li>
                    <li>2021-04-28 기본 익명 채팅, 방 구분 구현</li>
                </ul>
            </div>
        </div>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous"></script>
<!--<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>-->
<script src="/js/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="/js/0_utils.js"></script>
<script type="text/javascript" src="/js/0_view_friends.js"></script>
<script type="text/javascript" src="/js/0_view_topic.js"></script>
<script type="text/javascript" src="/js/0_view_message.js"></script>
<script type="text/javascript" src="/js/0_websocket.js"></script>
<script type="text/javascript" src="/js/1_parserAuth.js"></script>
<script type="text/javascript" src="/js/1_parserCtrl.js"></script>
<script type="text/javascript" src="/js/1_parserMeta.js"></script>
<script type="text/javascript" src="/js/1_parserMsg.js"></script>
<script type="text/javascript" src="/js/2_auth_anon.js"></script>
<script type="text/javascript" src="/js/2_auth_idpw.js"></script>
<script type="text/javascript" src="/js/2_auth_key.js"></script>
<script type="text/javascript" src="/js/2_auth_rotary.js"></script>
<script type="text/javascript" src="/js/2_ctrl.js"></script>
<script type="text/javascript" src="/js/2_file.js"></script>
<script type="text/javascript" src="/js/2_meta.js"></script>
<script type="text/javascript" src="/js/2_msg.js"></script>
</body>
</html>
